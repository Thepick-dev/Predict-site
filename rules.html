<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>GOALSTORM! — BONUS MULTIPLIER</title>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#050510; --panel:#0b0b1f; --neon:#00f6ff; --ok:#22ff88; --warn:#ffcc00; --dim:#666;
  --cyan:#00F6FF; --yellow:#FFD60A; --pink:#FF2FC7; --white:#F7F7F2; --purple:#B026FF;
}
*{box-sizing:border-box;margin:0;padding:0;}
body{
  min-height:100vh;
  background:radial-gradient(circle at top,#0c0c2a,#000);
  color:#e8faff;
  font-family:"Press Start 2P",monospace;
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
}
.panel{
  width:92%;
  max-width:520px;
  background:var(--panel);
  border:3px solid var(--pink);
  box-shadow:0 0 35px rgba(255,47,199,.45);
  padding:16px;
}
h1{font-size:14px;color:var(--pink);margin-bottom:10px;}
h2{font-size:10px;color:var(--yellow);margin-bottom:6px;}
.duo{margin-bottom:12px;}
.duo-name{margin-top:4px;font-size:12px;color:var(--cyan);text-shadow:0 0 12px var(--cyan);}
.multiplier-wrap{margin:10px 0;}
.multiplier-label{font-size:8px;color:var(--white);}
.multiplier-box{
  margin:6px auto;width:100px;padding:10px;font-size:16px;
  border:3px solid var(--pink);color:var(--pink);
  box-shadow:0 0 20px var(--pink);
}
.instructions{
  font-size:7px;line-height:1.4;margin:10px 0;color:var(--white);
}
.card-grid{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:6px;
  margin-bottom:12px;
}
.card{
  height:50px;
  border:2px solid var(--cyan);
  background:url('card.jpg') center/cover no-repeat;
  color:var(--cyan);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:11px;
  cursor:pointer;
  box-shadow:0 0 10px rgba(0,246,255,.35);
}
.card.revealed{
  border-color:var(--ok);
  color:var(--ok);
  box-shadow:0 0 14px var(--ok);
  background:#000;
  cursor:default;
}
.card.negative{
  border-color:var(--warn);
  color:var(--warn);
  box-shadow:0 0 14px var(--warn);
}
.actions{margin-top:6px;}
button{
  width:100%;
  padding:6px;
  font-family:inherit;
  font-size:8px;
  background:#000;
  color:var(--neon);
  border:2px solid var(--neon);
  cursor:pointer;
}
.summary{display:none;}
.summary h1{color:var(--yellow);}
.summary p{font-size:8px;line-height:1.4;margin:10px 0;}
.final-multiplier{
  margin:8px auto;width:140px;padding:12px;font-size:18px;
  border:3px solid var(--yellow);
  color:var(--yellow);
  box-shadow:0 0 25px var(--yellow);
}
</style>
</head>

<body>

<div class="panel">

  <h1>BONUS MULTIPLIER</h1>

  <div class="duo">
    <h2>YOUR GOALSCORING DUO</h2>
    <div class="duo-name">RICE × HAALAND</div>
  </div>

  <div class="multiplier-wrap">
    <div class="multiplier-label">CURRENT MULTIPLIER</div>
    <div class="multiplier-box" id="multiplierBox">1.00</div>
  </div>

  <div class="instructions">
    TURN OVER CARDS TO CHANGE YOUR MULTIPLIER.<br>
    SOME CARDS ADD VALUE.<br>
    SOME CARDS REMOVE VALUE (CAN BE BIG!).<br>
    <span style="color:var(--warn)">5 CARDS ARE DEAD.</span><br>
    GO OVER <span style="color:var(--yellow)">2.00</span> OR HIT A DEAD CARD<br>
    AND YOU RESET TO <span style="color:var(--yellow)">1.00</span>.<br>
    MULTIPLIER WILL NEVER DROP BELOW 1.
  </div>

  <div class="card-grid" id="cardGrid"></div>

  <div class="actions">
    <button id="stickBtn">STICK & SUBMIT PICKS</button>
  </div>

  <div class="summary" id="summary">
    <h1 id="summaryTitle"></h1>
    <p id="summaryText"></p>
    <div class="final-multiplier" id="finalMultiplier"></div>
    <button id="resetBtn">RESET (DEV)</button>
  </div>

</div>

<script>
'use strict';

let multiplier = 1.00;
let locked = false;

const CARD_COUNT = 40;
const BUST_COUNT = 5;
const NEGATIVE_CHANCE = 0.35;

const cardGrid = document.getElementById('cardGrid');
const multiplierBox = document.getElementById('multiplierBox');
const summary = document.getElementById('summary');
const summaryTitle = document.getElementById('summaryTitle');
const summaryText = document.getElementById('summaryText');
const finalMultiplier = document.getElementById('finalMultiplier');
const stickBtn = document.getElementById('stickBtn');
const resetBtn = document.getElementById('resetBtn');

let bustIndexes = [];

init();

function init(){
  bustIndexes = shuffle([...Array(CARD_COUNT).keys()]).slice(0,BUST_COUNT);
  buildCards();
  multiplier = 1.00;
  locked = false;
  multiplierBox.textContent = multiplier.toFixed(2);
  summary.style.display='none';
  cardGrid.style.display='grid';
  document.querySelector('.actions').style.display='block';
}

function buildCards(){
  cardGrid.innerHTML='';
  for(let i=0;i<CARD_COUNT;i++){
    const card=document.createElement('div');
    card.className='card';
    card.textContent='CARD';
    card.onclick=()=>revealCard(card,i);
    cardGrid.appendChild(card);
  }
}

function revealCard(card,index){
  if(locked || card.classList.contains('revealed')) return;

  card.classList.add('revealed');
  card.style.background = '#000'; // hide card.jpg once revealed

  if(bustIndexes.includes(index)){
    card.textContent='☠';
    bust();
    return;
  }

  let value;
  if(Math.random() < NEGATIVE_CHANCE){
    value = -(Math.random()*0.3 + 0.05);
    card.classList.add('negative');
  }else{
    value = Math.random()*0.35 + 0.05;
  }

  value = +value.toFixed(2);
  multiplier = +(multiplier + value).toFixed(2);

  if(multiplier < 1) multiplier = 1;

  card.textContent = (value > 0 ? '+' : '') + value.toFixed(2);
  update();

  if(multiplier > 2){
    bust();
  }
}

function update(){
  multiplierBox.textContent = multiplier.toFixed(2);
}

function bust(){
  locked = true;
  multiplier = 1.00;
  setTimeout(()=>{
    showSummary(
      'BUSTED',
      'RISK OVERREACHED OR DEAD CARD HIT.<br>MULTIPLIER RESET.',
      multiplier
    );
  },600);
}

stickBtn.onclick=()=>{
  if(locked) return;
  locked=true;
  showSummary(
    'LOCKED IN',
    'YOUR PICKS ARE SUBMITTED<br>WITH THIS MULTIPLIER:',
    multiplier
  );
};

resetBtn.onclick = ()=>{
  init();
};

function showSummary(title,text,value){
  summaryTitle.innerHTML=title;
  summaryText.innerHTML=text;
  finalMultiplier.textContent=value.toFixed(2);
  cardGrid.style.display='none';
  document.querySelector('.actions').style.display='none';
  summary.style.display='block';
}

function shuffle(a){
  for(let i=a.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1));
    [a[i],a[j]]=[a[j],a[i]];
  }
  return a;
}
</script>

</body>
</html>
